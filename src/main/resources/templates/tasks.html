<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layout/default">
<head lang="en">
    <title>Search</title>
</head>
<body>
<div class="row" layout:fragment="content">
    <h2 class="indigo-text center">Tareas</h2>

    <div th:if="${success}" class="card-panel teal lighten-2" th:text="${success}">This is a card panel with a teal
        lighten-2 class
    </div>


    <div class="row s12">
        <a class="btn-floating btn-large waves-effect waves-light red" th:href="@{/task/create}"><i
                class="material-icons">+</i></a>


    </div>
    <table>
        <thead>
        <tr>
            <th data-field="id">ID</th>
            <th data-field="name">Nombre</th>
            <th data-field="description">Descripcion</th>
            <th data-field="assignedUser">Usuario asignado</th>
            <th data-field="actions">Acciones</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="task : ${tasks}">
            <td th:text="${task.id}">ID</td>
            <td th:text="${task.name}">Nombre</td>
            <td th:text="${task.description}">Descripcion</td>
            <td th:text="${task.assignedUser?.fullName}">Usuario Asignado</td>
            <td>
                <a class="btn-floating btn-large waves-effect waves-light red"
                   th:href="@{/task/{taskId}/(taskId=${task.id})}"><i
                        class="material-icons">/</i></a>
                <a class="btn-floating btn-large waves-effect waves-light red"
                   th:href="@{/task/delete/{taskId}/(taskId=${task.id})}"><i
                        class="material-icons">-</i></a>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>